{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FUJITSU\\\\Desktop\\\\space4staff\\\\Client\\\\src\\\\components\\\\AddAnnonce.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport Axios from 'axios';\nimport '../styles/AddAnnonce.css';\nimport { Link, useHistory } from 'react-router-dom';\nimport DialogActions from '@mui/material/DialogActions';\nimport { styled } from '@mui/material/styles';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Select from '@mui/material/Select';\nimport FormControl from '@mui/material/FormControl';\nimport InputLabel from '@mui/material/InputLabel';\nimport Dialog from '@mui/material/Dialog';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport MenuItem from '@mui/material/MenuItem';\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\nimport Navbar from \"./Navbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddAnnonce() {\n  _s();\n\n  const [file, setFile] = useState();\n  const [fileName, setFileName] = useState();\n  const [firstname, setFirstname] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [cin, setCin] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [location, setLocation] = useState('');\n  const [date, setDate] = useState('');\n  const [property, setProperty] = useState('');\n  const [price, setPrice] = useState('');\n  const [desc, setDesc] = useState('');\n  const [open, setOpen] = React.useState(false);\n  const [imageAnnonce, setimageAnnonce] = useState('http://localhost:3001/public/images/img1.jpg');\n  const [verfFirstname, setverfFirstname] = useState(false);\n  const [verfLastname, setverfLastname] = useState(false);\n  const [verfCin, setverfCin] = useState(false);\n  const [verfEmail, setverfEmail] = useState(false);\n  const [verfPhone, setverfPhone] = useState(false);\n  const [verfLocation, setverfLocation] = useState(false);\n  const [verfDate, setverfDate] = useState(false);\n  const [verfProperty, setverfProperty] = useState(false);\n  const [verfPrice, setverfPrice] = useState(false);\n  const [verfDesc, setverfDesc] = useState(false);\n\n  const verifFirstname = () => {\n    const reg = new RegExp(/^[a-zA-Z]*$/);\n\n    if (reg.test(firstnameRef.current.value) === false) {\n      setverfFirstname(true);\n    } else {\n      setverfFirstname(false);\n    }\n  };\n\n  const verifLastname = () => {\n    const reg = new RegExp(/^[a-zA-Z]*$/);\n\n    if (reg.test(lastnameRef.current.value) === false) {\n      setverfLastname(true);\n    } else {\n      setverfLastname(false);\n    }\n  };\n\n  const verifEmail = () => {\n    const reg = new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n\n    if (reg.test(emailRef.current.value) === false) {\n      setverfEmail(true);\n    } else {\n      setverfEmail(false);\n    }\n  };\n\n  const verifLocation = () => {\n    const reg = new RegExp(/^[a-zA-Z]*$/);\n\n    if (reg.test(locationRef.current.value) === false) {\n      setverfLocation(true);\n    } else {\n      setverfLocation(false);\n    }\n  };\n\n  const verifPhone = () => {\n    const reg = new RegExp(/^[0-9]*$/);\n\n    if (reg.test(phoneRef.current.value) === false) {\n      setverfPhone(true);\n    } else {\n      setverfPhone(false);\n    }\n  };\n\n  const verifPrice = () => {\n    const reg = new RegExp(/^[0-9]*$/);\n\n    if (reg.test(priceRef.current.value) === false) {\n      setverfPrice(true);\n    } else {\n      setverfPrice(false);\n    }\n  };\n\n  const verifCin = () => {\n    const reg = new RegExp(/^[a-zA-Z0-9]*$/);\n\n    if (reg.test(cinRef.current.value) === false) {\n      setverfCin(true);\n    } else {\n      setverfCin(false);\n    }\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleChangeCin = event => {\n    setverfCin(false);\n    setCin(event.target.value);\n  };\n\n  const handleChangeLocation = event => {\n    setverfLocation(false);\n    setLocation(event.target.value);\n  };\n\n  const handleChangeDate = event => {\n    setverfDate(false);\n    setDate(event.target.value);\n  };\n\n  const handleChangeProperty = event => {\n    setverfProperty(false);\n    setProperty(event.target.value);\n  };\n\n  const handleChangePrice = event => {\n    setverfPrice(false);\n    setPrice(event.target.value);\n  };\n\n  const handleChangeDesc = event => {\n    setverfDesc(false);\n    setDesc(event.target.value);\n  };\n\n  const Input = styled('input')({\n    display: 'none'\n  });\n\n  const handleReset = () => {\n    Array.from(document.querySelectorAll(\"input\")).forEach(input => input.value = \"\");\n    this.setState({\n      itemvalues: [{}]\n    });\n  };\n\n  const firstnameRef = useRef();\n  const lastnameRef = useRef();\n  const cinRef = useRef();\n  const emailRef = useRef();\n  const phoneRef = useRef();\n  const locationRef = useRef();\n  const dateRef = useRef();\n  const priceRef = useRef();\n  const descRef = useRef();\n  const pictureRef = useRef();\n  let history = useHistory();\n\n  function saveFile(event) {\n    setFile(event.target.files[0]);\n    setFileName(event.target.files[0].name);\n  }\n\n  const uploadFile = async e => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"fileName\", fileName);\n\n    try {\n      const res = await Axios.post(\"http://localhost:3001/upload\", formData);\n      console.log(res);\n      setimageAnnonce(res.data.path);\n    } catch (ex) {\n      console.log(ex);\n    }\n  };\n\n  function validate() {\n    if (firstnameRef.current.value !== \"\" && lastnameRef.current.value !== \"\" && cinRef.current.value !== \"\" && emailRef.current.value !== \"\" && phoneRef.current.value !== \"\" && locationRef.current.value !== \"\" && dateRef.current.value !== \"\" && property !== '' && priceRef.current.value !== \"\" && descRef.current.value !== '') {\n      Axios.post(\"http://localhost:3001/addannonce\", {\n        firstnameRef: firstnameRef.current.value,\n        lastnameRef: lastnameRef.current.value,\n        cinRef: cinRef.current.value,\n        emailRef: emailRef.current.value,\n        phoneRef: phoneRef.current.value,\n        locationRef: locationRef.current.value,\n        dateRef: dateRef.current.value,\n        property: property,\n        priceRef: priceRef.current.value,\n        descRef: descRef.current.value,\n        image: imageAnnonce\n      }).then(response => {\n        if (response.data.message === \"Operation completed\") {\n          history.push({\n            pathname: '/lister'\n          });\n        }\n      });\n    } else {\n      if (firstnameRef.current.value === '') {\n        setverfFirstname(true);\n      }\n\n      if (lastnameRef.current.value === '') {\n        setverfLastname(true);\n      }\n\n      if (cinRef.current.value === '') {\n        setverfCin(true);\n      }\n\n      if (emailRef.current.value === '') {\n        setverfEmail(true);\n      }\n\n      if (phoneRef.current.value === '') {\n        setverfPhone(true);\n      }\n\n      if (locationRef.current.value === '') {\n        setverfLocation(true);\n      }\n\n      if (dateRef.current.value === '') {\n        setverfDate(true);\n      }\n\n      if (property === '') {\n        setverfProperty(true);\n      }\n\n      if (price === '') {\n        setverfPrice(true);\n      }\n\n      if (descRef.current.value === '') {\n        setverfDesc(true);\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"global\",\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"add-annonce\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: \"Anouncement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: \"Put your anouncement here.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"right-side\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inputs-container\",\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                inputRef: firstnameRef,\n                required: true,\n                error: verfFirstname,\n                onChange: verifFirstname,\n                label: \"First Name\",\n                size: \"small\",\n                sx: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                inputRef: lastnameRef,\n                required: true,\n                error: verfLastname,\n                onChange: verifLastname,\n                label: \"Last Name\",\n                size: \"small\",\n                sx: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                inputRef: emailRef,\n                required: true,\n                error: verfEmail,\n                onBlur: verifEmail,\n                label: \"Email\",\n                size: \"small\",\n                sx: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                inputRef: phoneRef,\n                required: true,\n                error: verfPhone,\n                onChange: verifPhone,\n                label: \"Phone\",\n                size: \"small\",\n                sx: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                inputRef: cinRef,\n                required: true,\n                error: verfCin,\n                onChange: () => setverfCin(false),\n                label: \"Cin\",\n                size: \"small\",\n                sx: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  size: \"small\",\n                  id: \"demo-simple-select-label\",\n                  children: \"Property\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  labelId: \"demo-simple-select-label\",\n                  id: \"demo-simple-select\",\n                  value: property,\n                  label: \"Property\",\n                  size: \"small\",\n                  error: verfProperty,\n                  onChange: handleChangeProperty,\n                  children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"Room\",\n                    children: \"Room\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"Appartment\",\n                    children: \"Appartment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                inputRef: dateRef,\n                id: \"date\",\n                error: verfDate,\n                onChange: () => setverfDate(false),\n                label: \"Date\",\n                type: \"date\",\n                size: \"small\",\n                sx: {\n                  width: \"100%\"\n                },\n                InputLabelProps: {\n                  shrink: true\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                inputRef: locationRef,\n                required: true,\n                error: verfLocation,\n                onChange: verifLocation,\n                label: \"Location\",\n                size: \"small\",\n                sx: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"price\",\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  inputRef: priceRef,\n                  required: true,\n                  error: verfPrice,\n                  onChange: verifPrice,\n                  label: \"Price\",\n                  size: \"small\",\n                  sx: {\n                    width: '100%'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"desc\",\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  inputRef: descRef,\n                  required: true,\n                  error: verfDesc,\n                  onChange: e => this.handleChange(e),\n                  label: \"Description\",\n                  placeholder: \"Description\",\n                  multiline: true,\n                  rows: 2,\n                  maxRows: 9\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btns-container\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => {\n                  validate();\n                },\n                disableElevation: true,\n                variant: \"contained\",\n                className: \"green_btn\",\n                children: \"Validate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                disableElevation: true,\n                variant: \"outlined\",\n                onClick: handleReset,\n                children: \"Reset\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                open: open,\n                onClose: handleClose,\n                \"aria-labelledby\": \"alert-dialog-title\",\n                \"aria-describedby\": \"alert-dialog-description\",\n                children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                  id: \"alert-dialog-title\",\n                  children: \"Please confirm !\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                  children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n                    id: \"alert-dialog-description\",\n                    children: \"Are you sure you want to continue ?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: handleClose,\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/home\",\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: handleClose,\n                      autoFocus: true,\n                      children: \"Confirm\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 275,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddAnnonce, \"S5wAwlJTdNostueIjxr6HaKMYK4=\", false, function () {\n  return [useHistory];\n});\n\n_c = AddAnnonce;\nexport default AddAnnonce;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddAnnonce\");","map":{"version":3,"sources":["C:/Users/FUJITSU/Desktop/space4staff/Client/src/components/AddAnnonce.jsx"],"names":["React","useState","useRef","Axios","Link","useHistory","DialogActions","styled","Button","TextField","Select","FormControl","InputLabel","Dialog","DialogContent","DialogContentText","DialogTitle","MenuItem","TextareaAutosize","Navbar","AddAnnonce","file","setFile","fileName","setFileName","firstname","setFirstname","lastname","setLastname","cin","setCin","email","setEmail","phone","setPhone","location","setLocation","date","setDate","property","setProperty","price","setPrice","desc","setDesc","open","setOpen","imageAnnonce","setimageAnnonce","verfFirstname","setverfFirstname","verfLastname","setverfLastname","verfCin","setverfCin","verfEmail","setverfEmail","verfPhone","setverfPhone","verfLocation","setverfLocation","verfDate","setverfDate","verfProperty","setverfProperty","verfPrice","setverfPrice","verfDesc","setverfDesc","verifFirstname","reg","RegExp","test","firstnameRef","current","value","verifLastname","lastnameRef","verifEmail","emailRef","verifLocation","locationRef","verifPhone","phoneRef","verifPrice","priceRef","verifCin","cinRef","handleClickOpen","handleClose","handleChangeCin","event","target","handleChangeLocation","handleChangeDate","handleChangeProperty","handleChangePrice","handleChangeDesc","Input","display","handleReset","Array","from","document","querySelectorAll","forEach","input","setState","itemvalues","dateRef","descRef","pictureRef","history","saveFile","files","name","uploadFile","e","formData","FormData","append","res","post","console","log","data","path","ex","validate","image","then","response","message","push","pathname","width","shrink","handleChange"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\r\nimport Axios from 'axios';\r\nimport '../styles/AddAnnonce.css';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport { styled } from '@mui/material/styles';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport Select from '@mui/material/Select';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport MenuItem from '@mui/material/MenuItem';\r\n\r\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\r\nimport Navbar from \"./Navbar\";\r\n\r\nfunction AddAnnonce() {\r\n\r\n\r\n    const [file, setFile] = useState();\r\n    const [fileName, setFileName] = useState();\r\n    const [firstname, setFirstname] = useState('');\r\n    const [lastname, setLastname] = useState('');\r\n    const [cin, setCin] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [phone, setPhone] = useState('');\r\n    const [location, setLocation] = useState('');\r\n    const [date, setDate] = useState('');\r\n    const [property, setProperty] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const [desc, setDesc] = useState('');\r\n    const [open, setOpen] = React.useState(false);\r\n    const [imageAnnonce, setimageAnnonce] = useState('http://localhost:3001/public/images/img1.jpg');\r\n\r\n    const [verfFirstname, setverfFirstname] = useState(false)\r\n    const [verfLastname, setverfLastname] = useState(false)\r\n    const [verfCin, setverfCin] = useState(false)\r\n    const [verfEmail, setverfEmail] = useState(false)\r\n    const [verfPhone, setverfPhone] = useState(false)\r\n    const [verfLocation, setverfLocation] = useState(false)\r\n    const [verfDate, setverfDate] = useState(false)\r\n    const [verfProperty, setverfProperty] = useState(false)\r\n    const [verfPrice, setverfPrice] = useState(false)\r\n    const [verfDesc, setverfDesc] = useState(false);\r\n\r\n    const verifFirstname = () => {\r\n        const reg = new RegExp(/^[a-zA-Z]*$/);\r\n        if (reg.test(firstnameRef.current.value) === false) {\r\n            setverfFirstname(true)\r\n        } else {\r\n            setverfFirstname(false)\r\n        }\r\n    }\r\n\r\n    const verifLastname = () => {\r\n        const reg = new RegExp(/^[a-zA-Z]*$/);\r\n        if (reg.test(lastnameRef.current.value) === false) {\r\n            setverfLastname(true)\r\n        } else {\r\n            setverfLastname(false)\r\n        }\r\n    }\r\n\r\n    const verifEmail = () => {\r\n        const reg = new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\r\n        if (reg.test(emailRef.current.value) === false) {\r\n            setverfEmail(true)\r\n        } else {\r\n            setverfEmail(false)\r\n        }\r\n    }\r\n\r\n    const verifLocation = () => {\r\n        const reg = new RegExp(/^[a-zA-Z]*$/);\r\n        if (reg.test(locationRef.current.value) === false) {\r\n            setverfLocation(true)\r\n        } else {\r\n            setverfLocation(false)\r\n        }\r\n    }\r\n\r\n    const verifPhone = () => {\r\n        const reg = new RegExp(/^[0-9]*$/);\r\n        if (reg.test(phoneRef.current.value) === false) {\r\n            setverfPhone(true)\r\n        } else {\r\n            setverfPhone(false)\r\n        }\r\n    }\r\n\r\n    const verifPrice = () => {\r\n        const reg = new RegExp(/^[0-9]*$/);\r\n        if (reg.test(priceRef.current.value) === false) {\r\n            setverfPrice(true)\r\n        } else {\r\n            setverfPrice(false)\r\n        }\r\n    }\r\n\r\n    const verifCin = () => {\r\n        const reg = new RegExp(/^[a-zA-Z0-9]*$/);\r\n        if (reg.test(cinRef.current.value) === false) {\r\n            setverfCin(true)\r\n        } else {\r\n            setverfCin(false)\r\n        }\r\n    }\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n\r\n    const handleChangeCin = (event) => {\r\n        setverfCin(false);\r\n        setCin(event.target.value);\r\n    };\r\n\r\n    const handleChangeLocation = (event) => {\r\n        setverfLocation(false);\r\n        setLocation(event.target.value);\r\n    };\r\n\r\n    const handleChangeDate = (event) => {\r\n        setverfDate(false);\r\n        setDate(event.target.value);\r\n    };\r\n\r\n    const handleChangeProperty = (event) => {\r\n        setverfProperty(false);\r\n        setProperty(event.target.value);\r\n    };\r\n\r\n    const handleChangePrice = (event) => {\r\n        setverfPrice(false);\r\n        setPrice(event.target.value);\r\n    };\r\n\r\n    const handleChangeDesc = (event) => {\r\n        setverfDesc(false);\r\n        setDesc(event.target.value);\r\n    };\r\n\r\n    const Input = styled('input')({\r\n        display: 'none',\r\n    });\r\n\r\n     const handleReset = () => {\r\n         Array.from(document.querySelectorAll(\"input\")).forEach(\r\n             input => (input.value = \"\")\r\n         );\r\n         this.setState({\r\n             itemvalues: [{}]\r\n        });\r\n    };\r\n\r\n   \r\n\r\n\r\n\r\n    const firstnameRef = useRef();\r\n    const lastnameRef = useRef();\r\n    const cinRef = useRef();\r\n    const emailRef = useRef();\r\n    const phoneRef = useRef();\r\n    const locationRef = useRef();\r\n    const dateRef = useRef();\r\n    const priceRef = useRef();\r\n    const descRef = useRef();\r\n    const pictureRef = useRef();\r\n    let history = useHistory();\r\n\r\n\r\n    function saveFile(event) {\r\n        setFile(event.target.files[0]);\r\n        setFileName(event.target.files[0].name);\r\n    }\r\n\r\n    const uploadFile = async (e) => {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        formData.append(\"fileName\", fileName);\r\n        try {\r\n            const res = await Axios.post(\r\n                \"http://localhost:3001/upload\",\r\n                formData\r\n            );\r\n            console.log(res);\r\n            setimageAnnonce(res.data.path)\r\n        } catch (ex) {\r\n            console.log(ex);\r\n        }\r\n    };\r\n\r\n    function validate() {\r\n        if (\r\n            firstnameRef.current.value !== \"\" &&\r\n            lastnameRef.current.value !== \"\" &&\r\n            cinRef.current.value !== \"\" &&\r\n            emailRef.current.value !== \"\" &&\r\n            phoneRef.current.value !== \"\" &&\r\n            locationRef.current.value !== \"\" &&\r\n            dateRef.current.value !== \"\" &&\r\n            property !== '' &&\r\n            priceRef.current.value !== \"\" &&\r\n            descRef.current.value !== ''\r\n        ) {\r\n\r\n            Axios.post(\"http://localhost:3001/addannonce\", {\r\n                firstnameRef: firstnameRef.current.value,\r\n                lastnameRef: lastnameRef.current.value,\r\n                cinRef: cinRef.current.value,\r\n                emailRef: emailRef.current.value,\r\n                phoneRef: phoneRef.current.value,\r\n                locationRef: locationRef.current.value,\r\n                dateRef: dateRef.current.value,\r\n                property: property,\r\n                priceRef: priceRef.current.value,\r\n                descRef: descRef.current.value,\r\n                image: imageAnnonce\r\n\r\n            }).then((response) => {\r\n\r\n                if (response.data.message === \"Operation completed\") {\r\n                   \r\n                    history.push({\r\n                        pathname: '/lister',\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if (firstnameRef.current.value === '') {\r\n                setverfFirstname(true)\r\n            }\r\n            if (lastnameRef.current.value === '') {\r\n                setverfLastname(true)\r\n            }\r\n            if (cinRef.current.value === '') {\r\n                setverfCin(true)\r\n            }\r\n            if (emailRef.current.value === '') {\r\n                setverfEmail(true)\r\n            }\r\n            if (phoneRef.current.value === '') {\r\n                setverfPhone(true)\r\n            }\r\n            if (locationRef.current.value === '') {\r\n                setverfLocation(true)\r\n            }\r\n            if (dateRef.current.value === '') {\r\n                setverfDate(true)\r\n            }\r\n            if (property === '') {\r\n                setverfProperty(true)\r\n            }\r\n            if (price === '') {\r\n                setverfPrice(true)\r\n            }\r\n            if (descRef.current.value === '') {\r\n                setverfDesc(true)\r\n            }\r\n        }\r\n   }\r\n\r\n    return (\r\n        <div className=\"global\">\r\n            <section className=\"add-annonce\">\r\n            <Navbar/>\r\n\r\n                <div className=\"title\">Anouncement</div>\r\n                <div className=\"content\">Put your anouncement here.</div>\r\n                <div className=\"container\">\r\n                    <div className=\"container-body\">\r\n                        <div className=\"right-side\">\r\n                            <div className=\"inputs-container\"  >\r\n                                <TextField\r\n                                    inputRef={firstnameRef}\r\n                                    required\r\n                                    error={verfFirstname}\r\n                                    onChange={verifFirstname}\r\n                                    label=\"First Name\"\r\n                                    size=\"small\"\r\n                                    sx={{ width: '100%' }}\r\n                                />\r\n                                <TextField\r\n                                    inputRef={lastnameRef}\r\n                                    required\r\n                                    error={verfLastname}\r\n                                    onChange={verifLastname}\r\n                                    label=\"Last Name\"\r\n                                    size=\"small\"\r\n                                    sx={{ width: '100%' }}\r\n                                />\r\n                                <TextField\r\n                                    inputRef={emailRef}\r\n                                    required\r\n                                    error={verfEmail}\r\n                                    onBlur={verifEmail}\r\n                                    label=\"Email\"\r\n                                    size=\"small\"\r\n                                    sx={{ width: '100%' }}\r\n                                />\r\n                                <TextField\r\n                                    inputRef={phoneRef}\r\n                                    required\r\n                                    error={verfPhone}\r\n                                    onChange={verifPhone}\r\n                                    label=\"Phone\"\r\n                                    size=\"small\"\r\n                                    sx={{ width: '100%' }}\r\n                                />\r\n                                <TextField\r\n                                    inputRef={cinRef}\r\n                                    required\r\n                                    error={verfCin}\r\n                                    onChange={() => setverfCin(false)}\r\n                                    label=\"Cin\"\r\n                                    size=\"small\"\r\n                                    sx={{ width: '100%' }}\r\n                                />\r\n                                <FormControl fullWidth>\r\n                                    <InputLabel size=\"small\" id=\"demo-simple-select-label\">Property</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"demo-simple-select-label\"\r\n                                        id=\"demo-simple-select\"\r\n                                        value={property}\r\n                                        label=\"Property\"\r\n                                        size=\"small\"\r\n                                        error={verfProperty}\r\n                                        onChange={handleChangeProperty}\r\n                                    >\r\n                                        <MenuItem value={\"Room\"}>Room</MenuItem>\r\n                                        <MenuItem value={\"Appartment\"}>Appartment</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                                <TextField\r\n                                    inputRef={dateRef}\r\n                                    id=\"date\"\r\n                                    error={verfDate}\r\n                                    onChange={() => setverfDate(false)}\r\n                                    label=\"Date\"\r\n                                    type=\"date\"\r\n                                    size=\"small\"\r\n                                    sx={{ width: \"100%\" }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                />\r\n                                <TextField\r\n                                    inputRef={locationRef}\r\n                                    required\r\n                                    error={verfLocation}\r\n                                    onChange={verifLocation}\r\n                                    label=\"Location\"\r\n                                    size=\"small\"\r\n                                    sx={{ width: '100%' }}\r\n                                />\r\n                                <div className=\"price\" >\r\n                                    <TextField\r\n                                        inputRef={priceRef}\r\n                                        required\r\n                                        error={verfPrice}\r\n                                        onChange={verifPrice}\r\n                                        label=\"Price\"\r\n                                        size=\"small\"\r\n                                        sx={{ width: '100%' }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"desc\">\r\n                                    <TextField\r\n                                        inputRef={descRef}\r\n                                        required\r\n                                        error={verfDesc}    \r\n                                        onChange={ e => this.handleChange(e) }                             \r\n                                        label=\"Description\"\r\n                                        placeholder=\"Description\"\r\n                                        multiline\r\n                                        rows={2}\r\n                                        maxRows={9}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"btns-container\">\r\n                                <Button onClick={() => { validate() }} disableElevation variant=\"contained\" className=\"green_btn\">Validate</Button>\r\n                                <Button disableElevation variant=\"outlined\" onClick={handleReset}>Reset</Button>\r\n                                <Dialog\r\n                                    open={open}\r\n                                    onClose={handleClose}\r\n                                    aria-labelledby=\"alert-dialog-title\"\r\n                                    aria-describedby=\"alert-dialog-description\"\r\n                                >\r\n                                    <DialogTitle id=\"alert-dialog-title\">\r\n                                        {\"Please confirm !\"}\r\n                                    </DialogTitle>\r\n                                    <DialogContent>\r\n                                        <DialogContentText id=\"alert-dialog-description\">\r\n                                            Are you sure you want to continue ?\r\n                                        </DialogContentText>\r\n                                    </DialogContent>\r\n                                    <DialogActions>\r\n                                        <Button onClick={handleClose}>Cancel</Button>\r\n                                        <Link to=\"/home\">\r\n                                            <Button onClick={handleClose} autoFocus>\r\n                                                Confirm\r\n                                            </Button>\r\n                                        </Link>\r\n                                    </DialogActions>\r\n                                </Dialog>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    );\r\n\r\n} export default AddAnnonce"]},"metadata":{},"sourceType":"module"}